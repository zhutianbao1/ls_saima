<!DOCTYPE html>
<html>
<head>
	<title>H5场景应用1.0——实现页面滑动效果</title>
	<link rel="stylesheet" href="__CSS__/animate.css">
	<style type="text/css">
		#pages{width: 100%;height: 800px;}
		.page{width: 100%;height: 80%;position: relative;display: none;top: 0px;left: 0px;color: white;font-size: 300%;}
		.page1{background: blue;display: block;}
		.page2{background: red;}
		.page3{background: yellow;}
		.show{display: block;}
		.hide{display: none;}
	</style>

</head>
<body>
<div style="height: 100px;background: #00ff0f;width: 100%;"></div>
	<div id="pages">
		<div class="page page1">page1</div>
		<div class="page page2">page2</div>
		<div class="page page3">page3</div>
	</div>
</body>

<script type="text/javascript" src="__STATIC__/zepto.min.js"></script>
<script type="text/javascript" src="__STATIC__/touch.js"></script>
<script type="text/javascript">
	var curpage=1;
	var totalpage,nextpage;
	$(document).swipeLeft(function(){
		$(".page"+curpage).removeClass('show');
		$(".page"+curpage).addClass('hide');
		totalpage=$(".page").length;
		if(curpage==totalpage){
			$(".page"+curpage).removeClass("hide");
			$(".page"+curpage).addClass("show");
			curpage=totalpage;
		}else{
			nextpage=curpage+1;
			$(".page"+nextpage).removeClass('hide');
			$(".page"+nextpage).addClass('show');
			$(".page"+nextpage).addClass("pt-page-moveFromBottom");
			$(".page"+curpage).removeClass("show");
			$(".page"+curpage).addClass("hide");
			$(".page"+curpage).addClass("pt-page-moveToTop");
			curpage=nextpage;
		}
	})

	$(document).swipeRight(function(){
		$(".page"+curpage).removeClass('show');
		$(".page"+curpage).addClass('hide');
		totalpage=$(".page").length;
		if(curpage==1){
			$(".page1").removeClass('hide');
			$(".page1").addClass('show');
			curpage=1;
		}else{
			nextpage=curpage-1;
			$(".page"+nextpage).removeClass('hide');
			$(".page"+nextpage).addClass('show');
			$(".page"+nextpage).addClass("pt-page-moveFromBottom");
			$(".page"+curpage).removeClass("show");
			$(".page"+curpage).addClass("hide");
			$(".page"+curpage).addClass("pt-page-moveToTop");
			curpage=nextpage;
		}
	})
</script>
</html>